[gd_scene load_steps=24 format=3 uid="uid://c0lnvrk15bewb"]

[ext_resource type="Script" path="res://Scripts/gamestate.gd" id="1_7gv3n"]
[ext_resource type="PackedScene" uid="uid://pyucq8e7ng6d" path="res://Escenas/Personajes/pj_caja.tscn" id="1_bgcxy"]
[ext_resource type="Texture2D" uid="uid://damofqx18u52q" path="res://Assets/ActionLines.png" id="2_namxk"]
[ext_resource type="PackedScene" uid="uid://dt3842jsmu6a2" path="res://Escenas/Ambientes/fondo_taller.tscn" id="2_rm4nq"]
[ext_resource type="PackedScene" uid="uid://pn1f47dtv8xp" path="res://Escenas/Objetos/objetivo.tscn" id="3_k36yq"]
[ext_resource type="PackedScene" uid="uid://b8vahwyu3vnbl" path="res://Escenas/Ambientes/piso.tscn" id="5_1yo8i"]
[ext_resource type="PackedScene" uid="uid://ck7m6kvogdxot" path="res://Escenas/Objetos/calor_(barril).tscn" id="5_127x2"]
[ext_resource type="Texture2D" uid="uid://by0xqu4kaaypt" path="res://Assets/Fondos/fondo con piso/piso.png" id="5_murv3"]
[ext_resource type="PackedScene" uid="uid://07h3xrxk7frj" path="res://Escenas/Ambientes/lluvia_effecto.tscn" id="5_xhsvb"]
[ext_resource type="PackedScene" uid="uid://eqfrg75et5ho" path="res://Escenas/Objetos/calor_(lampara).tscn" id="6_e8imf"]
[ext_resource type="PackedScene" uid="uid://djpb4cjdxnqbi" path="res://Escenas/Objetos/gota_item.tscn" id="8_1p4va"]
[ext_resource type="PackedScene" uid="uid://lksayot4piy4" path="res://Escenas/UI/hud.tscn" id="8_imjg1"]
[ext_resource type="PackedScene" uid="uid://i48jg2hh8775" path="res://Escenas/Objetos/checkpoint.tscn" id="9_i1yvd"]
[ext_resource type="PackedScene" uid="uid://cyykw8k17qyam" path="res://Escenas/Objetos/carton_item.tscn" id="9_upa4b"]
[ext_resource type="PackedScene" uid="uid://hqja60f7ac2r" path="res://Escenas/Ambientes/refugio.tscn" id="12_1fnsp"]
[ext_resource type="PackedScene" uid="uid://bfvqdj22tkgqg" path="res://Escenas/UI/menu_pausa.tscn" id="15_wcamq"]
[ext_resource type="PackedScene" uid="uid://dpn5faaoq4ags" path="res://Escenas/Menues/menu_ganar.tscn" id="16_abf5i"]
[ext_resource type="AudioStream" uid="uid://c5w8u1uqep3b" path="res://Assets/sound/soundtrack/Platformer_Games_Music_Pack_Volume_4_Track_3_Gameplay_Ambience_Looping.wav" id="16_e2xx2"]

[sub_resource type="Animation" id="Animation_uhhx5"]
resource_name = "Flush"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Control/ColorRect:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4, 0.6, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(1152, 0), Vector2(-576, 0), Vector2(-576, 0), Vector2(-2304, 0)]
}

[sub_resource type="Animation" id="Animation_yn03u"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Control/ColorRect:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1152, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3u8xg"]
_data = {
"Flush": SubResource("Animation_uhhx5"),
"RESET": SubResource("Animation_yn03u")
}

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_rarfv"]
texture = ExtResource("5_murv3")
separation = Vector2i(1, 0)
texture_region_size = Vector2i(31, 105)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
12:0/0 = 0
13:0/0 = 0
14:0/0 = 0
15:0/0 = 0
16:0/0 = 0
17:0/0 = 0
18:0/0 = 0
19:0/0 = 0
20:0/0 = 0
21:0/0 = 0
22:0/0 = 0
23:0/0 = 0
24:0/0 = 0
25:0/0 = 0
26:0/0 = 0
27:0/0 = 0
28:0/0 = 0
29:0/0 = 0
30:0/0 = 0
31:0/0 = 0
32:0/0 = 0
33:0/0 = 0
34:0/0 = 0
35:0/0 = 0
36:0/0 = 0
37:0/0 = 0
38:0/0 = 0
39:0/0 = 0
40:0/0 = 0
41:0/0 = 0
42:0/0 = 0
43:0/0 = 0
44:0/0 = 0
45:0/0 = 0
46:0/0 = 0
47:0/0 = 0
48:0/0 = 0
49:0/0 = 0
50:0/0 = 0
51:0/0 = 0
52:0/0 = 0
53:0/0 = 0
54:0/0 = 0
55:0/0 = 0
56:0/0 = 0
57:0/0 = 0
58:0/0 = 0
59:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
10:1/0 = 0
11:1/0 = 0
12:1/0 = 0
13:1/0 = 0
14:1/0 = 0
15:1/0 = 0
16:1/0 = 0
17:1/0 = 0
18:1/0 = 0
19:1/0 = 0
20:1/0 = 0
21:1/0 = 0
22:1/0 = 0
23:1/0 = 0
24:1/0 = 0
25:1/0 = 0
26:1/0 = 0
27:1/0 = 0
28:1/0 = 0
29:1/0 = 0
30:1/0 = 0
31:1/0 = 0
32:1/0 = 0
33:1/0 = 0
34:1/0 = 0
35:1/0 = 0
36:1/0 = 0
37:1/0 = 0
38:1/0 = 0
39:1/0 = 0
40:1/0 = 0
41:1/0 = 0
42:1/0 = 0
43:1/0 = 0
44:1/0 = 0
45:1/0 = 0
46:1/0 = 0
47:1/0 = 0
48:1/0 = 0
49:1/0 = 0
50:1/0 = 0
51:1/0 = 0
52:1/0 = 0
53:1/0 = 0
54:1/0 = 0
55:1/0 = 0
56:1/0 = 0
57:1/0 = 0
58:1/0 = 0
59:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
12:2/0 = 0
13:2/0 = 0
14:2/0 = 0
15:2/0 = 0
16:2/0 = 0
17:2/0 = 0
18:2/0 = 0
19:2/0 = 0
20:2/0 = 0
21:2/0 = 0
22:2/0 = 0
23:2/0 = 0
24:2/0 = 0
25:2/0 = 0
26:2/0 = 0
27:2/0 = 0
28:2/0 = 0
29:2/0 = 0
30:2/0 = 0
31:2/0 = 0
32:2/0 = 0
33:2/0 = 0
34:2/0 = 0
35:2/0 = 0
36:2/0 = 0
37:2/0 = 0
38:2/0 = 0
39:2/0 = 0
40:2/0 = 0
41:2/0 = 0
42:2/0 = 0
43:2/0 = 0
44:2/0 = 0
45:2/0 = 0
46:2/0 = 0
47:2/0 = 0
48:2/0 = 0
49:2/0 = 0
50:2/0 = 0
51:2/0 = 0
52:2/0 = 0
53:2/0 = 0
54:2/0 = 0
55:2/0 = 0
56:2/0 = 0
57:2/0 = 0
58:2/0 = 0
59:2/0 = 0
60:0/0 = 0
61:0/0 = 0

[sub_resource type="TileSet" id="TileSet_ucdd4"]
tile_size = Vector2i(31, 30)
sources/0 = SubResource("TileSetAtlasSource_rarfv")

[node name="Nv1Taller" type="Node2D"]

[node name="GameState" type="Node" parent="."]
script = ExtResource("1_7gv3n")

[node name="FadeOut" type="CanvasLayer" parent="GameState"]
layer = 2

[node name="Control" type="Control" parent="GameState/FadeOut"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3

[node name="ColorRect" type="TextureRect" parent="GameState/FadeOut/Control"]
modulate = Color(0.334029, 0.782602, 0.838792, 1)
texture_filter = 1
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1152.0
offset_top = -324.0
offset_right = 1152.0
offset_bottom = 324.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("2_namxk")
expand_mode = 2

[node name="AnimationPlayer" type="AnimationPlayer" parent="GameState/FadeOut"]
libraries = {
"": SubResource("AnimationLibrary_3u8xg")
}

[node name="Timer" type="Timer" parent="GameState/FadeOut"]

[node name="FondoTaller" parent="." instance=ExtResource("2_rm4nq")]

[node name="Lluvia Effecto" parent="." instance=ExtResource("5_xhsvb")]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_set = SubResource("TileSet_ucdd4")

[node name="PJCaja" parent="." instance=ExtResource("1_bgcxy")]
position = Vector2(-442, -75)

[node name="DiseñoNivel" type="Node2D" parent="."]

[node name="Plataformas" type="Node2D" parent="DiseñoNivel"]

[node name="Piso3" parent="DiseñoNivel/Plataformas" instance=ExtResource("5_1yo8i")]
position = Vector2(-763, -49)
scale = Vector2(0.848123, 1.67542)

[node name="Piso4" parent="DiseñoNivel/Plataformas" instance=ExtResource("5_1yo8i")]
position = Vector2(-1054, -192)
scale = Vector2(-0.716769, 1.97708)

[node name="Piso6" parent="DiseñoNivel/Plataformas" instance=ExtResource("5_1yo8i")]
position = Vector2(-228, -392)
scale = Vector2(1.94754, 1.6212)

[node name="Piso7" parent="DiseñoNivel/Plataformas" instance=ExtResource("5_1yo8i")]
position = Vector2(145, -483)
scale = Vector2(0.592704, 1.93814)

[node name="Piso7" parent="DiseñoNivel/Plataformas/Piso7" instance=ExtResource("5_1yo8i")]
position = Vector2(-317.19, -84.1013)
scale = Vector2(0.592704, 1.93814)

[node name="Piso7" parent="DiseñoNivel/Plataformas/Piso7/Piso7" instance=ExtResource("5_1yo8i")]
position = Vector2(-378.596, -27.6862)
scale = Vector2(0.592704, 1.93814)

[node name="Piso5" parent="DiseñoNivel/Plataformas" instance=ExtResource("5_1yo8i")]
position = Vector2(-732, -354)
scale = Vector2(-0.99375, 1.69151)

[node name="Refugio" parent="DiseñoNivel/Plataformas" instance=ExtResource("12_1fnsp")]
position = Vector2(-439, -25)
scale = Vector2(0.820097, 1)

[node name="Refugio2" parent="DiseñoNivel/Plataformas" instance=ExtResource("12_1fnsp")]
position = Vector2(-64, -21)
scale = Vector2(1.39256, 1)

[node name="Refugio4" parent="DiseñoNivel/Plataformas" instance=ExtResource("12_1fnsp")]
position = Vector2(651, -13)
scale = Vector2(0.452336, 1)

[node name="Refugio3" parent="DiseñoNivel/Plataformas" instance=ExtResource("12_1fnsp")]
position = Vector2(-426, -460)
scale = Vector2(0.672559, 1)

[node name="Calor" type="Node2D" parent="DiseñoNivel"]

[node name="Calor (Barril)" parent="DiseñoNivel/Calor" instance=ExtResource("5_127x2")]
position = Vector2(-379, -459)

[node name="Calor (Lampara)" parent="DiseñoNivel/Calor" instance=ExtResource("6_e8imf")]
position = Vector2(-130, -211)
scale = Vector2(2.37601, 1.52)

[node name="Colecc" type="Node2D" parent="DiseñoNivel"]

[node name="CartonItem4" parent="DiseñoNivel/Colecc" instance=ExtResource("9_upa4b")]
position = Vector2(-812, -384)

[node name="CartonItem" parent="DiseñoNivel/Colecc" instance=ExtResource("9_upa4b")]
position = Vector2(144, -89)

[node name="CartonItem2" parent="DiseñoNivel/Colecc" instance=ExtResource("9_upa4b")]
position = Vector2(232, -35)

[node name="CartonItem5" parent="DiseñoNivel/Colecc" instance=ExtResource("9_upa4b")]
position = Vector2(325, -563)

[node name="CartonItem3" parent="DiseñoNivel/Colecc" instance=ExtResource("9_upa4b")]
position = Vector2(649, -60)

[node name="GotaItem" parent="DiseñoNivel/Colecc" instance=ExtResource("8_1p4va")]
position = Vector2(147, -563)

[node name="Control" type="Node2D" parent="DiseñoNivel"]

[node name="Checkpoint" parent="DiseñoNivel/Control" instance=ExtResource("9_i1yvd")]
position = Vector2(-432, -16)
esInicio = true

[node name="Checkpoint2" parent="DiseñoNivel/Control" instance=ExtResource("9_i1yvd")]
position = Vector2(-472, -444)

[node name="Objetivo" parent="DiseñoNivel/Control" instance=ExtResource("3_k36yq")]
position = Vector2(-334, -21.0001)
scale = Vector2(1.00567, 1.01552)

[node name="HUD" parent="." instance=ExtResource("8_imjg1")]

[node name="MenuGanar" parent="." instance=ExtResource("16_abf5i")]

[node name="MenuPausa" parent="." instance=ExtResource("15_wcamq")]

[node name="MusicaFondo" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("16_e2xx2")
volume_db = -15.0
autoplay = true
bus = &"Musica"
